{"version":3,"sources":["../../../src/lib/init-hooks/index.js"],"names":["module","exports","BoringInjections","boring","moduleData","paths","boring_hooks","server_hooks","Object","keys","reduce","prev","key","hookExport","name","initHooks"],"mappings":";;AACA;;AACA;;;;;;;;AAEE;;;;AAIFA,MAAM,CAACC,OAAP;AAAA;AAAA;AAAA,qCAAiB,WAAyBC,gBAAzB,EAA2C;AAE1D,UAAM;AACJC,MAAAA;AADI,QAEFD,gBAFJ;AAKA,UAAME,UAAU,SAAS,+BAAc,CAACC,eAAMC,YAAP,EAAqBD,eAAME,YAA3B,CAAd,EAAwDL,gBAAxD,CAAzB;AAEA,WAAOM,MAAM,CAACC,IAAP,CAAYL,UAAZ,EAAwBM,MAAxB,CAA+B,UAASC,IAAT,EAAeC,GAAf,EAAoB;AACxD,YAAMC,UAAU,GAAGT,UAAU,CAACQ,GAAD,CAA7B;AACA,UAAIE,IAAI,GAAGF,GAAX;;AAEA,UAAIC,UAAU,IAAIA,UAAU,CAACC,IAA7B,EAAmC;AACjCA,QAAAA,IAAI,GAAGD,UAAU,CAACC,IAAlB;AACD;;AAEDH,MAAAA,IAAI,CAACG,IAAD,CAAJ,GAAaD,UAAU,IAAI,EAA3B;AACA,aAAOF,IAAP;AACD,KAVM,EAUJ,EAVI,CAAP;AAYD,GArBD;;AAAA,kBAAgCI,SAAhC;AAAA;AAAA;AAAA","sourcesContent":["\r\nimport paths from 'paths'\r\nimport requireInject from 'require-inject-all'\r\n\r\n  /**\r\n   * Hooks do not need to export anything, by default the \r\n   * name of the hook will be the module name\r\n   */\r\nmodule.exports = async function initHooks(BoringInjections) {\r\n\r\n  const {\r\n    boring\r\n  } = BoringInjections;\r\n  \r\n\r\n  const moduleData = await requireInject([paths.boring_hooks, paths.server_hooks], BoringInjections)\r\n\r\n  return Object.keys(moduleData).reduce(function(prev, key) {\r\n    const hookExport = moduleData[key];\r\n    let name = key;\r\n\r\n    if (hookExport && hookExport.name) {\r\n      name = hookExport.name;\r\n    }\r\n\r\n    prev[name] = hookExport || {};\r\n    return prev;\r\n  }, {});\r\n\r\n}"],"file":"index.js"}