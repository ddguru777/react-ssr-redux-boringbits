{"version":3,"sources":["../../../../../src/lib/init-hooks/core-hooks/react/Layout.js"],"names":["module","exports","HTML","React","Component","render","reduxHtml","JSON","stringify","props","redux_state","replace","app_vars","Date","getTime","client_config","locals","loggedIn","scripts","headScripts","app","ReactDOMServer","renderToString","children","height","__html","map","scriptUrl","padding","margin","display","css_injections","getStyleSheets","width","js_injections"],"mappings":";;AAAA;;AACA;;;;AAGAA,MAAM,CAACC,OAAP,GAAiB,MAAMC,IAAN,SAAmBC,eAAMC,SAAzB,CAAmC;AAClDC,EAAAA,MAAM,GAAG;AACP,UAAMC,SAAS,GAAI,8BAA+BC,IAAI,CAACC,SAAL,CAAe,KAAKC,KAAL,CAAWC,WAA1B,EAAuCC,OAAvC,CAA+C,IAA/C,EAAqD,SAArD,CAAgE,EAAlH;AAEA,UAAMC,QAAQ,GAAI;;4BAEO,IAAIC,IAAJ,GAAWC,OAAX,EAAsB;;kBAEjCP,IAAI,CAACC,SAAL,CAAe,KAAKC,KAAL,CAAWM,aAAX,IAA4B,EAA3C,CAA+C;oBAC7C,KAAKN,KAAL,CAAWO,MAAX,CAAkBC,QAAS;;KAL3C;AASA,UAAMC,OAAO,GAAG,KAAKT,KAAL,CAAWU,WAAX,IAA0B,EAA1C;;AACA,UAAMC,GAAG,GAAGC,gBAAeC,cAAf,CAA8B,KAAKb,KAAL,CAAWc,QAAzC,CAAZ;;AAEA,WACE;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV;AAAb,OACE,2CACE;AAAM,MAAA,OAAO,EAAC;AAAd,MADF,EAEE;AAAQ,MAAA,uBAAuB,EAAE;AAAEC,QAAAA,MAAM,EAAEb;AAAV;AAAjC,MAFF,EAGE;AAAM,MAAA,GAAG,EAAC,YAAV;AAAuB,MAAA,IAAI,EAAC;AAA5B,MAHF,EAIE;AAAM,MAAA,GAAG,EAAC,YAAV;AAAuB,MAAA,IAAI,EAAC;AAA5B,MAJF,EAKE;AAAM,MAAA,IAAI,EAAC,UAAX;AAAsB,MAAA,OAAO,EAAC;AAA9B,MALF,EAQIM,OAAO,CAACQ,GAAR,CAAaC,SAAD,IAAe;AAAQ,MAAA,GAAG,EAAEA;AAAb,MAA3B,CARJ,CADF,EAYE;AAAM,MAAA,KAAK,EAAE;AAAEH,QAAAA,MAAM,EAAE,MAAV;AAAkBI,QAAAA,OAAO,EAAE,KAA3B;AAAkCC,QAAAA,MAAM,EAAE;AAA1C;AAAb,OACE;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAb;AAAkC,MAAA,uBAAuB,EAAE;AAAEL,QAAAA,MAAM,EAAE,KAAKhB,KAAL,CAAWO,MAAX,CAAkBe;AAA5B;AAA3D,MADF,EAEE;AAAO,MAAA,uBAAuB,EAAE;AAAEN,QAAAA,MAAM,EAAE,KAAKhB,KAAL,CAAWuB,cAAX;AAAV,OAAhC;AAAyE,MAAA,EAAE,EAAC;AAA5E,MAFF,EAGE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,MAAT;AAAiBT,QAAAA,MAAM,EAAE;AAAzB,OAAZ;AAA+C,MAAA,EAAE,EAAC,MAAlD;AAAyD,MAAA,uBAAuB,EAAE;AAAEC,QAAAA,MAAM,EAAEL;AAAV;AAAlF,MAHF,EAME;AAAM,MAAA,KAAK,EAAE;AAAEU,QAAAA,OAAO,EAAE;AAAX,OAAb;AAAkC,MAAA,uBAAuB,EAAE;AAAEL,QAAAA,MAAM,EAAE,KAAKhB,KAAL,CAAWO,MAAX,CAAkBkB;AAA5B;AAA3D,MANF,EAQE;AAAQ,MAAA,uBAAuB,EAAE;AAAET,QAAAA,MAAM,EAAEnB;AAAV;AAAjC,MARF,CAZF,CADF;AAyBD;;AAzCiD,CAApD","sourcesContent":["import React from 'react';\nimport ReactDOMServer from 'react-dom/server';\n\n\nmodule.exports = class HTML extends React.Component {\n  render() {\n    const reduxHtml = `window.__PRELOADED_STATE__=${  JSON.stringify(this.props.redux_state).replace(/</g, '\\\\u003c')}`;\n\n    const app_vars = `\n      window.app_vars = {\n        server_load_time: ${(new Date().getTime())},\n        client_load_start : (new Date()).getTime(),\n        config: ${JSON.stringify(this.props.client_config || {})},\n        loggedIn: ${this.props.locals.loggedIn}\n      }\n    `;\n\n    const scripts = this.props.headScripts || [];\n    const app = ReactDOMServer.renderToString(this.props.children);\n\n    return (\n      <html style={{ height: '100%' }}>\n        <head>\n          <meta charSet=\"utf-8\" />\n          <script dangerouslySetInnerHTML={{ __html: app_vars }}></script>\n          <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500\" />\n          <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"></meta>\n\n          {\n            scripts.map((scriptUrl) => <script src={scriptUrl} />)\n          }\n        </head>\n        <body style={{ height: '100%', padding: '0px', margin: '0px' }}>\n          <span style={{ display: 'none' }} dangerouslySetInnerHTML={{ __html: this.props.locals.css_injections }}></span>\n          <style dangerouslySetInnerHTML={{ __html: this.props.getStyleSheets() }} id=\"jss-server-side\"></style>\n          <div style={{ width: '100%', height: '100%' }} id=\"root\" dangerouslySetInnerHTML={{ __html: app }}>\n\n          </div>\n          <span style={{ display: 'none' }} dangerouslySetInnerHTML={{ __html: this.props.locals.js_injections }}>\n          </span>\n          <script dangerouslySetInnerHTML={{ __html: reduxHtml }}></script>\n        </body>\n      </html>\n    );\n  }\n};\n"],"file":"Layout.js"}