const bunyan = require('bunyan');
const config = require('../boring-config');
const loggerOptions = config.get('boring.logger');
const log = bunyan.createLogger(loggerOptions);

const levels = ['fatal', 'error', 'warn', 'info', 'debug', 'trace']
levels.forEach(level => {
  const oldLevel = log[level];
  // This is a noop for now...
  // TODO: ensure there is a correlationId
  log[level] = function shadhowedLogLevel(...args) {
    oldLevel.apply(log, args);
  }
})

module.exports = log;