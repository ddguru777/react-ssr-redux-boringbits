
const config = require('../boring-config');
const path = require('path');

const proj_dir = path.normalize(config.get('paths.proj_dir', process.cwd()))
const base_app_path_key = 'base_app_path'
const base_app_path = path.normalize(config.get(base_app_path_key, 'src'))

function getProjPath(key, defaultVal) {
  return path.normalize(proj_dir +'/'+ config.get(key, defaultVal));
}

function getAppDirPath(key, defaultVal) {
  return path.normalize(getProjPath(base_app_path_key, base_app_path) + '/'+ config.get(key , defaultVal));
}

module.exports = {  
  proj_dir,
  base_app_path,
  app_dir: getProjPath(base_app_path_key, base_app_path),
  server_endpoints: getAppDirPath('paths.server_endpoints', '/server/endpoints'),
  app_config: getProjPath('paths.app_config', '/config'),
  asset_manifest: getProjPath('paths.asset_manifest', '/build/asset-manifest.json'), 
}